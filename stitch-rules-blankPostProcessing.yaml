kind: Rules
metadata: 
  namespace: k8s-add-labels-errors
spec: 
  - 
    condition: 
      deployedType: k8s.Resources
    name: k8s.AddGroovyLabel
    processor: 
      - 
        description: "Adding label to kubernetes spec"
        merge: 
          type: overlay
        parameters: 
          template: |-
              { "metadata" : {
                 "labels": {
                   "labelToAdd": "addedLabel"
                 }
                }
              }
        phase: POST_FLIGHT
        type: 
        weight: 30